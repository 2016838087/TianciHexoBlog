{
    "version": "https://jsonfeed.org/version/1",
    "title": "TianciBlog • All posts by \"vue\" category",
    "description": "天赐博客,天赐个人博客,天赐个人网站,TianciBlog,记录学习与生活",
    "home_page_url": "https://lovetianci.cn",
    "items": [
        {
            "id": "https://lovetianci.cn/2020/04/24/vue0424/",
            "url": "https://lovetianci.cn/2020/04/24/vue0424/",
            "title": "vue+elementui遇到的坑",
            "date_published": "2020-04-24T13:30:00.000Z",
            "content_html": "<h2 id=\"入门vue第二篇\"><a class=\"markdownIt-Anchor\" href=\"#入门vue第二篇\">#</a> 入门 vue，第二篇</h2>\n<a id=\"more\"></a>\n<h3 id=\"今天做一个vueelementui的分页列表\"><a class=\"markdownIt-Anchor\" href=\"#今天做一个vueelementui的分页列表\">#</a> 今天做一个 vue+elementui 的分页列表</h3>\n<h3 id=\"首先安装elementui\"><a class=\"markdownIt-Anchor\" href=\"#首先安装elementui\">#</a> 首先安装 elementui</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i element-ui -S</span><br></pre></td></tr></table></figure>\n<h3 id=\"然后在mainjs里面配置\"><a class=\"markdownIt-Anchor\" href=\"#然后在mainjs里面配置\">#</a> 然后在 main.js 里面配置</h3>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//elementui配置</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> ElementUI <span class=\"keyword\">from</span> <span class=\"string\">'element-ui'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'element-ui/lib/theme-chalk/index.css'</span></span><br><span class=\"line\">Vue.use(ElementUI)</span><br></pre></td></tr></table></figure>\n<h3 id=\"注意事项mainjs这里要改个东西\"><a class=\"markdownIt-Anchor\" href=\"#注意事项mainjs这里要改个东西\">#</a> 注意事项，main.js 这里要改个东西</h3>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">new</span> Vue(&#123;</span><br><span class=\"line\">  el: <span class=\"string\">'#app'</span>,</span><br><span class=\"line\">  router,</span><br><span class=\"line\">  <span class=\"comment\">//components: &#123; App &#125;,//vue1.0写法</span></span><br><span class=\"line\">  template: <span class=\"string\">'&lt;App/&gt;'</span>,</span><br><span class=\"line\">  render: <span class=\"function\"><span class=\"params\">h</span> =&gt;</span> h(App)<span class=\"comment\">//vue2.0写法</span></span><br><span class=\"line\">  <span class=\"comment\">//render函数是渲染一个视图，然后提供给el挂载，如果没有render那页面什么都不会出来</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h3 id=\"render-h-happ这是新加的上面的注释掉不然会报错\"><a class=\"markdownIt-Anchor\" href=\"#render-h-happ这是新加的上面的注释掉不然会报错\">#</a> render: h =&gt; h (App) 这是新加的，上面的注释掉，不然会报错</h3>\n<h3 id=\"贴上列表的全部代码\"><a class=\"markdownIt-Anchor\" href=\"#贴上列表的全部代码\">#</a> 贴上列表的全部代码</h3>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">&lt;el-container style&#x3D;&quot;height: 500px; border: 1px solid #eee&quot;&gt;</span><br><span class=\"line\">  &lt;el-aside width&#x3D;&quot;200px&quot; style&#x3D;&quot;background-color: rgb(238, 241, 246)&quot;&gt;</span><br><span class=\"line\">    &lt;el-menu :default-openeds&#x3D;&quot;[&#39;1&#39;,&#39;3&#39;]&quot;&gt;</span><br><span class=\"line\">      &lt;el-submenu index&#x3D;&quot;1&quot;&gt;</span><br><span class=\"line\">        &lt;template slot&#x3D;&quot;title&quot;&gt;&lt;i class&#x3D;&quot;el-icon-message&quot;&gt;&lt;&#x2F;i&gt;导航1&lt;&#x2F;template&gt;</span><br><span class=\"line\">          &lt;el-menu-item index&#x3D;&quot;1-1&quot;&gt;选项1&lt;&#x2F;el-menu-item&gt;</span><br><span class=\"line\">          &lt;el-menu-item index&#x3D;&quot;1-2&quot;&gt;选项2&lt;&#x2F;el-menu-item&gt;</span><br><span class=\"line\">          &lt;el-menu-item index&#x3D;&quot;1-3&quot;&gt;选项3&lt;&#x2F;el-menu-item&gt;</span><br><span class=\"line\">      &lt;&#x2F;el-submenu&gt;</span><br><span class=\"line\">      &lt;el-submenu index&#x3D;&quot;2&quot;&gt;</span><br><span class=\"line\">        &lt;template slot&#x3D;&quot;title&quot;&gt;&lt;i class&#x3D;&quot;el-icon-message&quot;&gt;&lt;&#x2F;i&gt;导航2&lt;&#x2F;template&gt;</span><br><span class=\"line\">          &lt;el-menu-item index&#x3D;&quot;1-1&quot;&gt;选项1&lt;&#x2F;el-menu-item&gt;</span><br><span class=\"line\">          &lt;el-menu-item index&#x3D;&quot;1-2&quot;&gt;选项2&lt;&#x2F;el-menu-item&gt;</span><br><span class=\"line\">          &lt;el-menu-item index&#x3D;&quot;1-3&quot;&gt;选项3&lt;&#x2F;el-menu-item&gt;</span><br><span class=\"line\">      &lt;&#x2F;el-submenu&gt;</span><br><span class=\"line\">      &lt;el-submenu index&#x3D;&quot;3&quot;&gt;</span><br><span class=\"line\">        &lt;template slot&#x3D;&quot;title&quot;&gt;&lt;i class&#x3D;&quot;el-icon-message&quot;&gt;&lt;&#x2F;i&gt;导航3&lt;&#x2F;template&gt;</span><br><span class=\"line\">          &lt;el-menu-item index&#x3D;&quot;1-1&quot;&gt;选项1&lt;&#x2F;el-menu-item&gt;</span><br><span class=\"line\">          &lt;el-menu-item index&#x3D;&quot;1-2&quot;&gt;选项2&lt;&#x2F;el-menu-item&gt;</span><br><span class=\"line\">          &lt;el-menu-item index&#x3D;&quot;1-3&quot;&gt;选项3&lt;&#x2F;el-menu-item&gt;</span><br><span class=\"line\">          &lt;el-menu-item index&#x3D;&quot;1-4&quot;&gt;选项4&lt;&#x2F;el-menu-item&gt;</span><br><span class=\"line\">      &lt;&#x2F;el-submenu&gt;</span><br><span class=\"line\">    &lt;&#x2F;el-menu&gt;</span><br><span class=\"line\">  &lt;&#x2F;el-aside&gt;</span><br><span class=\"line\">  </span><br><span class=\"line\">  &lt;el-container&gt;</span><br><span class=\"line\">    &lt;el-header style&#x3D;&quot;text-align: right; font-size: 12px&quot;&gt;</span><br><span class=\"line\">      &lt;el-dropdown&gt;</span><br><span class=\"line\">        &lt;i class&#x3D;&quot;el-icon-setting&quot; style&#x3D;&quot;margin-right: 15px&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class=\"line\">        &lt;el-dropdown-menu slot&#x3D;&quot;dropdown&quot;&gt;</span><br><span class=\"line\">          &lt;el-dropdown-item&gt;查看&lt;&#x2F;el-dropdown-item&gt;</span><br><span class=\"line\">          &lt;el-dropdown-item&gt;新增&lt;&#x2F;el-dropdown-item&gt;</span><br><span class=\"line\">          &lt;el-dropdown-item&gt;删除&lt;&#x2F;el-dropdown-item&gt;</span><br><span class=\"line\">        &lt;&#x2F;el-dropdown-menu&gt;</span><br><span class=\"line\">      &lt;&#x2F;el-dropdown&gt;</span><br><span class=\"line\">      &lt;span&gt;王小虎&lt;&#x2F;span&gt;</span><br><span class=\"line\">    &lt;&#x2F;el-header&gt;</span><br><span class=\"line\">    </span><br><span class=\"line\">    &lt;el-main&gt;</span><br><span class=\"line\">      &lt;el-table :data&#x3D;&quot;list&quot; &gt;</span><br><span class=\"line\">      &lt;!-- &lt;el-table :data&#x3D;&quot;list.slice((pageNow-1)*pageSize,pageNow*pageSize)&quot; &gt; --&gt;</span><br><span class=\"line\">          &lt;!-- 对数据请求本地的处理，如果调用接口直接赋值list --&gt;</span><br><span class=\"line\">        &lt;el-table-column prop&#x3D;&quot;id&quot; label&#x3D;&quot;id&quot; width&#x3D;&quot;40&quot;&gt;</span><br><span class=\"line\">        &lt;&#x2F;el-table-column&gt;</span><br><span class=\"line\">        &lt;el-table-column prop&#x3D;&quot;imageUrl&quot; label&#x3D;&quot;图片路径&quot; width&#x3D;&quot;420&quot;&gt;</span><br><span class=\"line\">        &lt;&#x2F;el-table-column&gt;</span><br><span class=\"line\">        &lt;el-table-column prop&#x3D;&quot;detail&quot; label&#x3D;&quot;详情&quot; width&#x3D;&quot;140&quot;&gt;</span><br><span class=\"line\">        &lt;&#x2F;el-table-column&gt;</span><br><span class=\"line\">        &lt;el-table-column prop&#x3D;&quot;isActive&quot; label&#x3D;&quot;是否可用&quot;&gt;</span><br><span class=\"line\">        &lt;&#x2F;el-table-column&gt;</span><br><span class=\"line\">      &lt;&#x2F;el-table&gt;</span><br><span class=\"line\">    &lt;&#x2F;el-main&gt;</span><br><span class=\"line\">    &lt;el-pagination</span><br><span class=\"line\">        background</span><br><span class=\"line\">        layout&#x3D;&quot;total, sizes, prev, pager, next, jumper&quot;</span><br><span class=\"line\">        @size-change&#x3D;&quot;handleSizeChange&quot;</span><br><span class=\"line\">        @current-change&#x3D;&quot;handleCurrentChange&quot;</span><br><span class=\"line\">        :total&#x3D;&quot;totalCount&quot;</span><br><span class=\"line\">        :current-page&#x3D;&quot;pageNow&quot;</span><br><span class=\"line\">        :page-sizes&#x3D;&quot;[5, 10, 15, 20, 25]&quot;</span><br><span class=\"line\">        :page-size&#x3D;&quot;pageSize&quot;</span><br><span class=\"line\">        &gt;</span><br><span class=\"line\">        &lt;!-- 背景色，组件布局，pageSize事件，pageNow事件，总条目数，当前页，当前页数，每页个数 --&gt;</span><br><span class=\"line\">&lt;&#x2F;el-pagination&gt;</span><br><span class=\"line\">  &lt;&#x2F;el-container&gt;</span><br><span class=\"line\">&lt;&#x2F;el-container&gt;</span><br><span class=\"line\">&lt;&#x2F;template&gt;</span><br><span class=\"line\">&lt;style&gt;</span><br><span class=\"line\">&#x2F;* 总数，每页条数，上页，，当前页，下页，跳转 *&#x2F;</span><br><span class=\"line\">&#x2F;* total, sizes, prev, pager, next, jumper *&#x2F;</span><br><span class=\"line\">  .el-header &#123;</span><br><span class=\"line\">    background-color: #B3C0D1;</span><br><span class=\"line\">    color: #333;</span><br><span class=\"line\">    line-height: 60px;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  .el-aside &#123;</span><br><span class=\"line\">    color: #333;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&lt;&#x2F;style&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">import axios from &#39;axios&#39;</span><br><span class=\"line\">export default &#123;</span><br><span class=\"line\">    data() &#123;</span><br><span class=\"line\">    return &#123;</span><br><span class=\"line\">      list:[],</span><br><span class=\"line\">      pageNow:1,&#x2F;&#x2F;绑定控件当前页</span><br><span class=\"line\">      pageSize:10,&#x2F;&#x2F;绑定控件当前页数量</span><br><span class=\"line\">      totalCount:1000&#x2F;&#x2F;绑定控件总数</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  created()&#123;</span><br><span class=\"line\">      this.GetList();</span><br><span class=\"line\">      &#x2F;&#x2F;created:在模板渲染成html前调用，即通常初始化某些属性值，然后再渲染成视图</span><br><span class=\"line\">      &#x2F;&#x2F;mounted:在模板渲染成html后调用，通常是初始化页面完成后，再对html的dom节点进行一些需要的操作</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  methods:&#123;</span><br><span class=\"line\">    handleSizeChange: function (pageSize) &#123;</span><br><span class=\"line\">            this.pageSize &#x3D; pageSize;&#x2F;&#x2F;每页下拉显示数据</span><br><span class=\"line\">            this.GetList(this.pageSize);&#x2F;&#x2F;调用方法传参</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    handleCurrentChange: function(pageNow)&#123;</span><br><span class=\"line\">            this.pageNow &#x3D; pageNow;&#x2F;&#x2F;点击第几页</span><br><span class=\"line\">            this.GetList(this.pageNow);&#x2F;&#x2F;调用方法传参</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    GetList()&#123;</span><br><span class=\"line\">      this.$axios.get(&#39;&#x2F;api&#x2F;Tianci&#x2F;Images&#39;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          params:&#123;</span><br><span class=\"line\">            PageNow:this.pageNow,</span><br><span class=\"line\">            PageSize:this.pageSize</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;).then((res)&#x3D;&gt;&#123;</span><br><span class=\"line\">        if(res.data.code&#x3D;&#x3D;0)&#123;</span><br><span class=\"line\">            &#x2F;&#x2F;列表赋值给list</span><br><span class=\"line\">            this.list&#x3D;res.data.res.data.rows;</span><br><span class=\"line\">            &#x2F;&#x2F;总页数返回给绑定的参数</span><br><span class=\"line\">            this.totalCount&#x3D;res.data.res.data.total;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        else&#123;</span><br><span class=\"line\">            alert(&quot;数据为空&quot;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>\n<h3 id=\"主要是看el-main标签到最后script代码就不一一解释了主要是渲染\"><a class=\"markdownIt-Anchor\" href=\"#主要是看el-main标签到最后script代码就不一一解释了主要是渲染\">#</a> 主要是看 el-main 标签到最后 script 代码，就不一一解释了，主要是渲染</h3>\n<h3 id=\"然后npm-run-build打包这里会遇到三个问题\"><a class=\"markdownIt-Anchor\" href=\"#然后npm-run-build打包这里会遇到三个问题\">#</a> 然后 npm run build 打包，这里会遇到三个问题</h3>\n<h3 id=\"线上预览是没问题的\"><a class=\"markdownIt-Anchor\" href=\"#线上预览是没问题的\">#</a> 线上预览，是没问题的</h3>\n<p><img data-src=\"1.jpg\" alt=\"本地预览正常\"></p>\n<h3 id=\"第一个问题页面全白打开config文件夹下面的indexjs找到这里\"><a class=\"markdownIt-Anchor\" href=\"#第一个问题页面全白打开config文件夹下面的indexjs找到这里\">#</a> 第一个问题，页面全白，打开 config 文件夹下面的 index.js 找到这里</h3>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Paths</span></span><br><span class=\"line\">assetsRoot: path.resolve(__dirname, <span class=\"string\">'../dist'</span>),</span><br><span class=\"line\">assetsSubDirectory: <span class=\"string\">'static'</span>,</span><br><span class=\"line\">assetsPublicPath: <span class=\"string\">'./'</span>,<span class=\"comment\">//打包后页面空白，/改成./</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"第二个问题引用的文件报错找到build文件夹下面的utilsjs\"><a class=\"markdownIt-Anchor\" href=\"#第二个问题引用的文件报错找到build文件夹下面的utilsjs\">#</a> 第二个问题，引用的文件报错，找到 build 文件夹下面的 utils.js</h3>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">return</span> ExtractTextPlugin.extract(&#123;</span><br><span class=\"line\">    use: loaders,</span><br><span class=\"line\">    fallback: <span class=\"string\">'vue-style-loader'</span>,</span><br><span class=\"line\">    publicPath: <span class=\"string\">'../../'</span> <span class=\"comment\">//文件路径异常，添加这句</span></span><br><span class=\"line\">    &#125;)</span><br></pre></td></tr></table></figure>\n<h3 id=\"最后打包遇到第三个问题\"><a class=\"markdownIt-Anchor\" href=\"#最后打包遇到第三个问题\">#</a> 最后打包遇到第三个问题</h3>\n<p><img data-src=\"2.jpg\" alt=\"打包之后跑版\"></p>\n<h3 id=\"跟本地预览样式有一些差异但是也没有报错\"><a class=\"markdownIt-Anchor\" href=\"#跟本地预览样式有一些差异但是也没有报错\">#</a> 跟本地预览样式有一些差异，但是也没有报错</h3>\n<h3 id=\"下期再发解决的吧现在也一直没找到原因\"><a class=\"markdownIt-Anchor\" href=\"#下期再发解决的吧现在也一直没找到原因\">#</a> 下期再发解决的吧，现在也一直没找到原因</h3>\n",
            "tags": [
                "技术"
            ]
        },
        {
            "id": "https://lovetianci.cn/2020/04/23/vue0423/",
            "url": "https://lovetianci.cn/2020/04/23/vue0423/",
            "title": "学习vue遇到的坑",
            "date_published": "2020-04-23T08:25:00.000Z",
            "content_html": "<h2 id=\"入门vue第一篇\"><a class=\"markdownIt-Anchor\" href=\"#入门vue第一篇\">#</a> 入门 Vue，第一篇</h2>\n<a id=\"more\"></a>\n<h3 id=\"安装环境就不说了直接创建项目\"><a class=\"markdownIt-Anchor\" href=\"#安装环境就不说了直接创建项目\">#</a> 安装环境就不说了，直接创建项目</h3>\n<h3 id=\"打开gitbash\"><a class=\"markdownIt-Anchor\" href=\"#打开gitbash\">#</a> 打开 GitBash</h3>\n<h3 id=\"全局安装vue-cli\"><a class=\"markdownIt-Anchor\" href=\"#全局安装vue-cli\">#</a> 全局安装 vue-cli</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cnpm install vue-cli -g</span><br></pre></td></tr></table></figure>\n<h3 id=\"创建项目\"><a class=\"markdownIt-Anchor\" href=\"#创建项目\">#</a> 创建项目</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vue init webpack <span class=\"string\">\"项目名称\"</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"进入项目文件夹\"><a class=\"markdownIt-Anchor\" href=\"#进入项目文件夹\">#</a> 进入项目文件夹</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> <span class=\"string\">\"项目名称\"</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"安装相关依赖\"><a class=\"markdownIt-Anchor\" href=\"#安装相关依赖\">#</a> 安装相关依赖</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cnpm install</span><br></pre></td></tr></table></figure>\n<h3 id=\"运行初步demo\"><a class=\"markdownIt-Anchor\" href=\"#运行初步demo\">#</a> 运行初步 demo</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cnpm run dev</span><br></pre></td></tr></table></figure>\n<h3 id=\"用vscode终端输入来安装axios\"><a class=\"markdownIt-Anchor\" href=\"#用vscode终端输入来安装axios\">#</a> 用 vscode 终端输入来安装 axios</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cnpm install axios</span><br></pre></td></tr></table></figure>\n<h3 id=\"在mainjs配置全局axios\"><a class=\"markdownIt-Anchor\" href=\"#在mainjs配置全局axios\">#</a> 在 main.js 配置全局 axios</h3>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> axios <span class=\"keyword\">from</span> <span class=\"string\">'axios'</span></span><br><span class=\"line\"></span><br><span class=\"line\">Vue.prototype.$axios = axios</span><br><span class=\"line\"></span><br><span class=\"line\">axios.defaults.timeout = <span class=\"number\">5000</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">axios.defaults.baseURL = <span class=\"string\">'http://接口地址:端口号/'</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"在config文件夹中的indexjs中找到proxytable\"><a class=\"markdownIt-Anchor\" href=\"#在config文件夹中的indexjs中找到proxytable\">#</a> 在 config 文件夹中的 index.js 中找到 proxyTable</h3>\n<h3 id=\"改成这样\"><a class=\"markdownIt-Anchor\" href=\"#改成这样\">#</a> 改成这样</h3>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">proxyTable: &#123;</span><br><span class=\"line\">  <span class=\"string\">'/api'</span>:&#123;</span><br><span class=\"line\">    target:<span class=\"string\">\"http://接口地址:端口号/\"</span>,<span class=\"comment\">//接口地址</span></span><br><span class=\"line\">    source:<span class=\"literal\">false</span>,<span class=\"comment\">// 如果是https接口，需要配置这个参数</span></span><br><span class=\"line\">    changeOrigin:<span class=\"literal\">true</span>,<span class=\"comment\">//允许跨域</span></span><br><span class=\"line\">    ws: <span class=\"literal\">true</span>, <span class=\"comment\">//打开websocket</span></span><br><span class=\"line\">    pathRewrite:&#123;</span><br><span class=\"line\">      <span class=\"string\">'^/api'</span>:<span class=\"string\">'/'</span><span class=\"comment\">//把target用api来代替</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"然后开始调接口新建一个indexvue\"><a class=\"markdownIt-Anchor\" href=\"#然后开始调接口新建一个indexvue\">#</a> 然后开始调接口，新建一个 index.vue</h3>\n<h3 id=\"在router文件夹里面的indexjs配置如下\"><a class=\"markdownIt-Anchor\" href=\"#在router文件夹里面的indexjs配置如下\">#</a> 在 router 文件夹里面的 index.js 配置如下</h3>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> Vue <span class=\"keyword\">from</span> <span class=\"string\">'vue'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> Router <span class=\"keyword\">from</span> <span class=\"string\">'vue-router'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> HelloWorld <span class=\"keyword\">from</span> <span class=\"string\">'@/components/HelloWorld'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> Index <span class=\"keyword\">from</span> <span class=\"string\">'@/components/Index'</span><span class=\"comment\">//注册组件</span></span><br><span class=\"line\"></span><br><span class=\"line\">Vue.use(Router)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">new</span> Router(&#123;</span><br><span class=\"line\">  routes: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      path: <span class=\"string\">'/'</span>,</span><br><span class=\"line\">      name: <span class=\"string\">'HelloWorld'</span>,</span><br><span class=\"line\">      component: HelloWorld</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      path: <span class=\"string\">'/Index'</span>,</span><br><span class=\"line\">      name: <span class=\"string\">'首页'</span>,</span><br><span class=\"line\">      component: Index</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h3 id=\"新页面结构如下\"><a class=\"markdownIt-Anchor\" href=\"#新页面结构如下\">#</a> 新页面结构如下</h3>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">  &lt;div class&#x3D;&quot;hello&quot;&gt;</span><br><span class=\"line\">    账号：&lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;username&quot;&gt;&lt;br&gt;</span><br><span class=\"line\">    密码：&lt;input type&#x3D;&quot;password&quot; v-model&#x3D;&quot;password&quot;&gt;&lt;br&gt;</span><br><span class=\"line\">    &lt;button @click&#x3D;&quot;Login&quot;&gt;登录&lt;&#x2F;button&gt;</span><br><span class=\"line\">  &lt;&#x2F;div&gt;</span><br><span class=\"line\">&lt;&#x2F;template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">import axios from &#39;axios&#39;</span><br><span class=\"line\">import Qs from &#39;qs&#39;</span><br><span class=\"line\">export default &#123;</span><br><span class=\"line\">  name: &#39;HelloWorld&#39;,</span><br><span class=\"line\">  data () &#123;</span><br><span class=\"line\">    return &#123;</span><br><span class=\"line\">      username:&#39;&#39;,&#x2F;&#x2F;绑定v-model</span><br><span class=\"line\">      password:&#39;&#39;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  methods:&#123;</span><br><span class=\"line\">      &#x2F;&#x2F;post方法</span><br><span class=\"line\">      Login()&#123;</span><br><span class=\"line\">        this.$axios.post(&#39;&#x2F;api&#x2F;Admin&#x2F;Login&#39;,</span><br><span class=\"line\">        &#x2F;&#x2F;Qs.stringify将对象序列化</span><br><span class=\"line\">        Qs.stringify(&#123;</span><br><span class=\"line\">          UserName:this.username,&#x2F;&#x2F;参数取input框内的值</span><br><span class=\"line\">          Password:this.password</span><br><span class=\"line\">        &#125;),&#123;headers:&#123;&#39;Content-Type&#39;:&#39;application&#x2F;x-www-form-urlencoded&#39;&#125;&#125;).then((res)&#x3D;&gt;&#123;</span><br><span class=\"line\">        &#x2F;&#x2F;需要注意，post方法需要加上这个headers头</span><br><span class=\"line\">        if(res.data.code!&#x3D;0)&#123;</span><br><span class=\"line\">          alert(res.data.res.msg);&#x2F;&#x2F;接口错误弹出接口返回信息</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        else&#123;</span><br><span class=\"line\">          var token&#x3D;res.data.res.data.adminToken;</span><br><span class=\"line\">          console.log(token);&#x2F;&#x2F;输出用户token</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>\n<h3 id=\"没什么难点大部分时间花在了解决跨域的问题\"><a class=\"markdownIt-Anchor\" href=\"#没什么难点大部分时间花在了解决跨域的问题\">#</a> 没什么难点，大部分时间花在了解决跨域的问题</h3>\n",
            "tags": [
                "技术"
            ]
        }
    ]
}